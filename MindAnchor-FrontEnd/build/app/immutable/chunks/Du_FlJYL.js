import{b as y,r as _,a as b,p as d,h as o,c as m,E,H as T,d as A,e as R,f as v,g as N,t as S,m as x,n as g,i as F,j as H}from"./D3xoQEFZ.js";import{s as j}from"./BaZjbVn1.js";function w(e,r,a,s=null,u=!1){o&&m();var n=e,i=null,t=null,f=null,p=u?E:0;y(()=>{if(f===(f=!!r()))return;let c=!1;if(o){const h=n.data===T;f===h&&(n=A(),R(n),v(!1),c=!0)}f?(i?_(i):i=b(()=>a(n)),t&&d(t,()=>{t=null})):(t?_(t):s&&(t=b(()=>s(n))),i&&d(i,()=>{i=null})),c&&v(!0)},p),o&&(n=N)}let l=!1;function C(e,r,a){const s=a[r]??(a[r]={store:null,source:x(void 0),unsubscribe:g});if(s.store!==e)if(s.unsubscribe(),s.store=e??null,e==null)s.source.v=void 0,s.unsubscribe=g;else{var u=!0;s.unsubscribe=j(e,n=>{u?s.source.v=n:H(s.source,n)}),u=!1}return F(s.source)}function D(){const e={};return S(()=>{for(var r in e)e[r].unsubscribe()}),e}function I(e){var r=l;try{return l=!1,[e(),l]}finally{l=r}}export{C as a,I as c,w as i,D as s};
