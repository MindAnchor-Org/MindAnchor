import{S as w,o as K,m as q,n as y,q as B,g as m,U as d,v as _,w as I,x as C,y as H,z as Y,A as k,B as z,C as O,D as G,E as J,H as Q,F as Z,G as $,I as A,J as D,K as j,L,M as V,N as W,O as X,P as M,Q as p}from"./DPnyhNSh.js";import{s as ee,g as ne}from"./BmCivcd_.js";function h(n,l=null,o){if(typeof n!="object"||n===null||w in n)return n;const a=Y(n);if(a!==K&&a!==q)return n;var i=new Map,c=k(n),b=y(0);c&&i.set("length",y(n.length));var g;return new Proxy(n,{defineProperty(s,e,t){(!("value"in t)||t.configurable===!1||t.enumerable===!1||t.writable===!1)&&H();var f=i.get(e);return f===void 0?(f=y(t.value),i.set(e,f)):_(f,h(t.value,g)),!0},deleteProperty(s,e){var t=i.get(e);if(t===void 0)e in s&&i.set(e,y(d));else{if(c&&typeof e=="string"){var f=i.get("length"),r=Number(e);Number.isInteger(r)&&r<f.v&&_(f,r)}_(t,d),U(b)}return!0},get(s,e,t){var v;if(e===w)return n;var f=i.get(e),r=e in s;if(f===void 0&&(!r||(v=I(s,e))!=null&&v.writable)&&(f=y(h(r?s[e]:d,g)),i.set(e,f)),f!==void 0){var u=m(f);return u===d?void 0:u}return Reflect.get(s,e,t)},getOwnPropertyDescriptor(s,e){var t=Reflect.getOwnPropertyDescriptor(s,e);if(t&&"value"in t){var f=i.get(e);f&&(t.value=m(f))}else if(t===void 0){var r=i.get(e),u=r==null?void 0:r.v;if(r!==void 0&&u!==d)return{enumerable:!0,configurable:!0,value:u,writable:!0}}return t},has(s,e){var u;if(e===w)return!0;var t=i.get(e),f=t!==void 0&&t.v!==d||Reflect.has(s,e);if(t!==void 0||C!==null&&(!f||(u=I(s,e))!=null&&u.writable)){t===void 0&&(t=y(f?h(s[e],g):d),i.set(e,t));var r=m(t);if(r===d)return!1}return f},set(s,e,t,f){var S;var r=i.get(e),u=e in s;if(c&&e==="length")for(var v=t;v<r.v;v+=1){var N=i.get(v+"");N!==void 0?_(N,d):v in s&&(N=y(d),i.set(v+"",N))}r===void 0?(!u||(S=I(s,e))!=null&&S.writable)&&(r=y(void 0),_(r,h(t,g)),i.set(e,r)):(u=r.v!==d,_(r,h(t,g)));var x=Reflect.getOwnPropertyDescriptor(s,e);if(x!=null&&x.set&&x.set.call(f,t),!u){if(c&&typeof e=="string"){var R=i.get("length"),E=Number(e);Number.isInteger(E)&&E>=R.v&&_(R,E+1)}U(b)}return!0},ownKeys(s){m(b);var e=Reflect.ownKeys(s).filter(r=>{var u=i.get(r);return u===void 0||u.v!==d});for(var[t,f]of i)f.v!==d&&!(t in s)&&e.push(t);return e},setPrototypeOf(){B()}})}function U(n,l=1){_(n,n.v+l)}function F(n){return n!==null&&typeof n=="object"&&w in n?n[w]:n}function ie(n,l){return Object.is(F(n),F(l))}function fe(n,l,o=!1){O&&G();var a=n,i=null,c=null,b=d,g=o?J:0,s=!1;const e=(f,r=!0)=>{s=!0,t(r,f)},t=(f,r)=>{if(b===(b=f))return;let u=!1;if(O){const v=a.data===Q;!!b===v&&(a=Z(),$(a),A(!1),u=!0)}b?(i?D(i):r&&(i=j(()=>r(a))),c&&L(c,()=>{c=null})):(c?D(c):r&&(c=j(()=>r(a))),i&&L(i,()=>{i=null})),u&&A(!0)};z(()=>{s=!1,l(e),s||t(null,null)},g),O&&(a=V)}let T=!1,P=Symbol();function se(n,l,o){const a=o[l]??(o[l]={store:null,source:p(void 0),unsubscribe:M});if(a.store!==n&&!(P in o))if(a.unsubscribe(),a.store=n??null,n==null)a.source.v=void 0,a.unsubscribe=M;else{var i=!0;a.unsubscribe=ee(n,c=>{i?a.source.v=c:_(a.source,c)}),i=!1}return n&&P in o?ne(n):m(a.source)}function ae(){const n={};function l(){W(()=>{for(var o in n)n[o].unsubscribe();X(n,P,{enumerable:!1,value:!0})})}return[n,l]}function ue(n){var l=T;try{return T=!1,[n(),T]}finally{T=l}}export{ie as a,se as b,ue as c,fe as i,h as p,ae as s};
