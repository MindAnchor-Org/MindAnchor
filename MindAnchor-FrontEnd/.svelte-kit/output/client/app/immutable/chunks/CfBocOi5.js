import{S as h,x as K,y as q,z as y,A as B,g as N,U as b,B as o,C as I,D as C,F as H,G as Y,H as z,m as G,v as O,I as J,E as Q,J as V,K as W,L as Z,M as D,N as m,n as j,O as L,w as $,P as X,Q as p,b as ee,R as re,T as te,V as ne,o as M,W as ie}from"./DKs-kS-g.js";import{s as se,g as fe}from"./BzUa6sB0.js";function w(e,u=null,d){if(typeof e!="object"||e===null||h in e)return e;const l=Y(e);if(l!==K&&l!==q)return e;var n=new Map,a=z(e),_=y(0);a&&n.set("length",y(e.length));var g;return new Proxy(e,{defineProperty(f,r,t){(!("value"in t)||t.configurable===!1||t.enumerable===!1||t.writable===!1)&&H();var s=n.get(r);return s===void 0?(s=y(t.value),n.set(r,s)):o(s,w(t.value,g)),!0},deleteProperty(f,r){var t=n.get(r);if(t===void 0)r in f&&n.set(r,y(b));else{if(a&&typeof r=="string"){var s=n.get("length"),i=Number(r);Number.isInteger(i)&&i<s.v&&o(s,i)}o(t,b),U(_)}return!0},get(f,r,t){var v;if(r===h)return e;var s=n.get(r),i=r in f;if(s===void 0&&(!i||(v=I(f,r))!=null&&v.writable)&&(s=y(w(i?f[r]:b,g)),n.set(r,s)),s!==void 0){var c=N(s);return c===b?void 0:c}return Reflect.get(f,r,t)},getOwnPropertyDescriptor(f,r){var t=Reflect.getOwnPropertyDescriptor(f,r);if(t&&"value"in t){var s=n.get(r);s&&(t.value=N(s))}else if(t===void 0){var i=n.get(r),c=i==null?void 0:i.v;if(i!==void 0&&c!==b)return{enumerable:!0,configurable:!0,value:c,writable:!0}}return t},has(f,r){var c;if(r===h)return!0;var t=n.get(r),s=t!==void 0&&t.v!==b||Reflect.has(f,r);if(t!==void 0||C!==null&&(!s||(c=I(f,r))!=null&&c.writable)){t===void 0&&(t=y(s?w(f[r],g):b),n.set(r,t));var i=N(t);if(i===b)return!1}return s},set(f,r,t,s){var A;var i=n.get(r),c=r in f;if(a&&r==="length")for(var v=t;v<i.v;v+=1){var T=n.get(v+"");T!==void 0?o(T,b):v in f&&(T=y(b),n.set(v+"",T))}i===void 0?(!c||(A=I(f,r))!=null&&A.writable)&&(i=y(void 0),o(i,w(t,g)),n.set(r,i)):(c=i.v!==b,o(i,w(t,g)));var x=Reflect.getOwnPropertyDescriptor(f,r);if(x!=null&&x.set&&x.set.call(s,t),!c){if(a&&typeof r=="string"){var S=n.get("length"),E=Number(r);Number.isInteger(E)&&E>=S.v&&o(S,E+1)}U(_)}return!0},ownKeys(f){N(_);var r=Reflect.ownKeys(f).filter(i=>{var c=n.get(i);return c===void 0||c.v!==b});for(var[t,s]of n)s.v!==b&&!(t in f)&&r.push(t);return r},setPrototypeOf(){B()}})}function U(e,u=1){o(e,e.v+u)}function k(e){return e!==null&&typeof e=="object"&&h in e?e[h]:e}function le(e,u){return Object.is(k(e),k(u))}function ce(e,u,d=!1){O&&J();var l=e,n=null,a=null,_=b,g=d?Q:0,f=!1;const r=(s,i=!0)=>{f=!0,t(i,s)},t=(s,i)=>{if(_===(_=s))return;let c=!1;if(O){const v=l.data===V;!!_===v&&(l=W(),Z(l),D(!1),c=!0)}_?(n?m(n):i&&(n=j(()=>i(l))),a&&L(a,()=>{a=null})):(a?m(a):i&&(a=j(()=>i(l))),n&&L(n,()=>{n=null})),c&&D(!0)};G(()=>{f=!1,u(r),f||t(null,null)},g),O&&(l=$)}function F(e,u){return e===u||(e==null?void 0:e[h])===u}function de(e={},u,d,l){return X(()=>{var n,a;return p(()=>{n=a,a=[],ee(()=>{e!==d(...a)&&(u(e,...a),n&&F(d(...n),e)&&u(null,...n))})}),()=>{re(()=>{a&&F(d(...a),e)&&u(null,...a)})}}),e}let R=!1,P=Symbol();function be(e,u,d){const l=d[u]??(d[u]={store:null,source:ie(void 0),unsubscribe:M});if(l.store!==e&&!(P in d))if(l.unsubscribe(),l.store=e??null,e==null)l.source.v=void 0,l.unsubscribe=M;else{var n=!0;l.unsubscribe=se(e,a=>{n?l.source.v=a:o(l.source,a)}),n=!1}return e&&P in d?fe(e):N(l.source)}function ve(){const e={};function u(){te(()=>{for(var d in e)e[d].unsubscribe();ne(e,P,{enumerable:!1,value:!0})})}return[e,u]}function oe(e){var u=R;try{return R=!1,[e(),R]}finally{R=u}}export{le as a,de as b,oe as c,be as d,ce as i,w as p,ve as s};
